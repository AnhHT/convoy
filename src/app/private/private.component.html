<header class="dashboard--header">
	<div class="dashboard--header--container">
		<div class="dashboard--header--nav">
			<a target="_blank" class="logo" href="https://getconvoy.io" rel="noreferrer">
				<img src="/assets/img/logo.svg" alt="convoy logo" />
			</a>

			<nav>
				<ul>
					<li>
						<a routerLink="/dashboard" routerLinkActive="active">Getting Started</a>
					</li>
					<li>
						<a routerLink="/projects" routerLinkActive="active">Projects</a>
					</li>
					<li>
						<a routerLink="/team" routerLinkActive="active">Team</a>
					</li>
				</ul>
			</nav>
		</div>

		<div class="dashboard--header--acounts">
			<a target="_blank" href="https://getconvoy.io/docs" rel="noreferrer" class="has-icon icon-left">
				<img src="/assets/img/doc-icon-primary.svg" alt="doc icon" />
				Go to docs
			</a>

			<div class="dropdown--container" *ngIf="authDetails()">
				<button class="has-icon icon-left" (click)="showOrgDropdown = !showOrgDropdown">
					<div class="has-icon">
						<div class="icon">O</div>
						<div class="name">{{ userOrganization?.name }}</div>
					</div>
					<img src="/assets/img/angle-arrow-down.svg" alt="arrow down icon" />
				</button>

				<div *ngIf="showOrgDropdown" class="dropdown organisations" (window:mouseup)="autoClose($event)">
					<div class="dropdown--head">
						<h3>Your organisations ({{ organisations?.length }})</h3>
					</div>
					<ul>
						<li *ngFor="let organisation of organisations">
							<div class="organisation--name">
								<div class="img img__round img__small">{{ organisation?.name?.slice(0, 1) }}</div>
								<p>{{ organisation?.name }}</p>
							</div>
							<img src="/assets/img/check-icon-primary.svg" alt="check icon" />
						</li>
					</ul>
					<div class="dropdown--footer">
						<button class="has-icon icon-left clear">
							<img src="/assets/img/add-circlar-icon.svg" alt="add icon" />
							Add another organisation
						</button>
					</div>
				</div>
			</div>

			<div class="dropdown--container">
				<button class="more-icon has-icon" (click)="showMoreDropdown = !showMoreDropdown">
					<img src="/assets/img/nav-bar-more-primary.svg" alt="more icon" />
				</button>

				<div *ngIf="showMoreDropdown" class="dropdown more" (window:mouseup)="autoClose($event)">
					<div class="dropdown--head">
						<h3>{{ authDetails().user?.profile?.firstname }} {{ authDetails().user?.profile?.lastname }}</h3>
						<p>Product Designer</p>
					</div>
					<ul>
						<li routerLink="/account" (click)="showMoreDropdown = !showMoreDropdown">
							<p>My account</p>
						</li>
						<li>
							<p>Organization settings</p>
						</li>
						<li>
							<a target="_blank" href="https://getconvoy.io/docs" rel="noreferrer">Docs</a>
						</li>
					</ul>
					<div class="dropdown--footer">
						<button class="danger clear" (click)="logout()">Logout</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>

<router-outlet></router-outlet>
